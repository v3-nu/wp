name: Deploy to playground.wordpress.net

on:
    workflow_dispatch:

permissions:
  contents: write

concurrency:
    group: website-deployment
    # TODO: Enable cancel-in-progress once we are deploying per commit?
    #cancel-in-progress: true

jobs:
    build_and_deploy:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
              with:
                  submodules: true
            - uses: ./.github/actions/prepare-playground
            - run: npm run build
            - name: Deploy ðŸš€
              uses: JamesIves/github-pages-deploy-action@v4
              with:
                folder: dist/packages/playground/wasm-wordpress-net

      
