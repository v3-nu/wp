(function(){"use strict";onmessage=async function(e){const o=e.data.path,r=e.data.content,i=e.ports[0],c=o.split("/").filter(t=>t.length>0),s=c.pop();if(s===void 0)throw new Error(`Invalid path: '${o}'`);let n=await navigator.storage.getDirectory();for(const t of c)n=await n.getDirectoryHandle(t);const a=await(await n.getFileHandle(s,{create:!0})).createSyncAccessHandle();try{const t=new TextEncoder().encode(r);a.truncate(0),a.write(t),i.postMessage("done")}finally{a.close()}}})();
//# sourceMappingURL=opfs-site-storage-worker-for-safari-b8bd7eb4.js.map
